#### 定义
闭包是指那些能够访问自由变量的函数
* 自由变量：在函数中使用的，但既不是函数参数，也不是函数的局部变量的变量
* 闭包 = 函数 + 函数能够访问的自由变量

* 能够读取其他函数内部变量的函数
* 简单理解为定义在一个函数内部的函数，内部函数持有外部函数内变量的引用
```
// f2可以读取f1中的变量，只要把f2作为返回值，就可以在f1外读取f1内部变量
function f1(){
    var n = 123;
    function f2(){  // f2是一个闭包
        console.log(n);
    }
    return f2;
}
```

#### 闭包用途
* 可读取函数内部的变量，可避免全局污染
* 让这些变量的值始终保持在内存中，不会在f1调用后被自动清除
* 方便调用上下文的局部变量，利于代码封装


#### 缺点
* 会导致变量不会被垃圾回收机制所清除，会大量消耗内存
* 不恰当的使用闭包可能会造成内存泄漏的问题


#### 总结
* 作用域链查找变量的方式是一层一层的往上查找，直到找到为止，如果找到window全局作用域还未找到，就报undefined
* 嵌套函数中，因为不在同一作用域，正常情况下内外部函数是访问不到内部函数的，但是通过闭包可以实现
* 尽可能少的使用闭包，因为会造成内存消耗大以及有可能造成内存泄露（如果不需要的时候，不要随便使用）